{"version":3,"sources":["account.js","adminSettings.js","adminOrders.js","adminTransactions.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"views.js","sourcesContent":["function initAccountView() {\r\n    initView();\r\n};\r\n\r\n// const accountInfo = new Vue({\r\n//     el: '#account-info',\r\n// });\r\n\r\n$(document).ready(function()\r\n{\r\n\tfunction initView() {\r\n\r\n        var addressChange = false;\r\n\r\n        if ((document.getElementById('account-address'))) {\r\n\r\n            var addressAutocomplete = new google.maps.places.Autocomplete(\r\n                /** @type {!HTMLInputElement} */(document.getElementById('account-address')),\r\n                {types: ['geocode']});\r\n            var location = {};\r\n            var locationFormat = {\r\n                street_number: 'short_name',\r\n                route: 'long_name',\r\n                locality: 'long_name',\r\n                administrative_area_level_1: 'short_name',\r\n                country: 'long_name',\r\n                postal_code: 'short_name'\r\n            };\r\n            var locationData = {};\r\n\r\n            addressAutocomplete.addListener('place_changed', function () {\r\n                location = fillInAddress_(addressAutocomplete);\r\n\r\n                Object.keys(location).forEach(function (key) {\r\n                    if (locationFormat[key]) {\r\n                        var val = location[key];\r\n                        var val2 = location[key][locationFormat[key]];\r\n                        locationData[key] = val2;\r\n                    }\r\n                });\r\n\r\n                addressChange = true;\r\n                document.getElementById('account-address').setAttribute('disabled', 'disabled');\r\n            });\r\n            geolocate_(addressAutocomplete);\r\n        }\r\n\r\n        document.getElementById('init-change-address').addEventListener('click', function (e) {\r\n            e.preventDefault();\r\n            var formattedAddressEl = document.getElementById('address-formatted');\r\n            formattedAddressEl.style.display = 'none';\r\n            document.getElementById('address-input-label').classList.remove('hidden');\r\n            addressChange = true;\r\n        });\r\n\r\n        // updates first and lastname\r\n\r\n        $(document).on('submit', '#updateSettings', function (e) {\r\n            e.preventDefault();\r\n\r\n            if (Object.keys(location).length === 0) {\r\n                popup('Please provide a valid location.');\r\n                return;\r\n            }\r\n\r\n            var formData = $('#updateSettings').serializeObject();\r\n            formData['address'] = locationData;\r\n\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: \"user/updateInfo\",\r\n                data: formData,\r\n                dataType: \"json\",\r\n                success: function (data) {\r\n                    if (data.form_check == 'error') {\r\n                        console.log(data.error_source);\r\n                        popup(data.alert);\r\n                        $('input[name=' + data.error_source + ']').addClass('form_error');\r\n                    }\r\n                    else {\r\n                        popup(data.alert);\r\n                        $('#account-settings-view').fadeTo(200, 0.3);\r\n                        $(\"#account-settings-view\").load(location.href + \" #account-settings-view>*\", \"\", function () {\r\n                            $(\"#account-settings-view\").fadeTo(200, 1);\r\n                        });\r\n                    }\r\n                },\r\n                error: function (data) {\r\n                    generateError(data);\r\n                }\r\n            });\r\n\r\n            return false;\r\n        });\r\n\r\n\r\n        $(document).on('click', '#initChangeEmailAddress', function (e) {\r\n            e.preventDefault();\r\n            var modal = new Modal('Change Email Address', null);\r\n            var changeEmailForm = '<change-email-form></change-email-form>';\r\n            modal.setVue(changeEmailForm);\r\n            modal.setVisible();\r\n            modal.setSubmitAction(function () {\r\n                $('.form_error').removeClass('form_error');\r\n                var formData = $('#changeEmail').serialize();\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: \"user/changeEmail\",\r\n                    data: formData,\r\n                    dataType: \"json\",\r\n                    success: function (data) {\r\n                        if (data.error) {\r\n\r\n                            for (var key in data.invalid_inputs) {\r\n                                $('input[name=' + key + ']').addClass('form_error');\r\n                            }\r\n\r\n                            popup(data.alert);\r\n                        }\r\n                        else {\r\n                            popup(data.alert);\r\n                            this.destroy();\r\n\r\n                            $('#account-settings-view').fadeTo(200, 0.3);\r\n                            $(\"#account-settings-view\").load(location.href + \" #account-settings-view>*\", \"\", function () {\r\n                                $(\"#account-settings-view\").fadeTo(200, 1);\r\n                            });\r\n                        }\r\n                    }.bind(this),\r\n                    error: function (data) {\r\n                        generateError(data);\r\n                    }\r\n                });\r\n            });\r\n\r\n        });\r\n\r\n\r\n        $(document).on('click', '#initChangePhoneNumber', function (e) {\r\n            e.preventDefault();\r\n            var modal = new Modal('Change Phone Number', null);\r\n            var changePhoneForm = '<change-phone-form></change-phone-form>';\r\n            modal.setVue(changePhoneForm);\r\n            modal.setVisible();\r\n            modal.setSubmitAction(function () {\r\n                var formData = $('#changePhone').serialize();\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: \"user/changePhone\",\r\n                    data: formData,\r\n                    dataType: \"json\",\r\n                    success: function (data) {\r\n                        if (data.error) {\r\n                            $('input[name=' + data.error_source + ']').addClass('form_error');\r\n                            popup(data.alert);\r\n                        }\r\n                        else {\r\n                            popup(data.alert);\r\n                            this.destroy();\r\n\r\n                            $('#account-settings-view').fadeTo(200, 0.3);\r\n                            $(\"#account-settings-view\").load(location.href + \" #account-settings-view>*\", \"\", function () {\r\n                                $(\"#account-settings-view\").fadeTo(200, 1);\r\n                            });\r\n                        }\r\n                    }.bind(this),\r\n                    error: function (data) {\r\n                        generateError(data);\r\n                    }\r\n                });\r\n                return false;\r\n            });\r\n        });\r\n\r\n\r\n        $(document).on('submit', '#changePassword', function (e) {\r\n            e.preventDefault();\r\n\r\n            var form = $('#changePassword');\r\n            var formData = form.serialize();\r\n\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: \"user/changePassword\",\r\n                data: formData,\r\n                dataType: \"json\",\r\n                success: function (data) {\r\n                    if (data.error) {\r\n                        $('input[name=' + data.error_source + ']').addClass('form_error');\r\n                        popup(data.alert);\r\n                    }\r\n                    else {\r\n                        popup(data.alert);\r\n                        form[0].reset();\r\n                    }\r\n                }.bind(this),\r\n                error: function (data) {\r\n                    generateError(data);\r\n                }\r\n            });\r\n            return false;\r\n        });\r\n\r\n\r\n        $(document).on('submit', '#change_address', function (e) {\r\n            e.preventDefault();\r\n\r\n            $.post('./controllers/user.php', $('#change_address').serialize() + '&action=user_change_address',\r\n                function (data) {\r\n                    if (data.form_check == 'error') {\r\n                        $('input[name=' + data.error_source + ']').addClass('form_error');\r\n                        popup(data.alert);\r\n                    }\r\n                    else {\r\n                        popup(data.alert);\r\n                    }\r\n                }, 'json');\r\n\r\n            return false;\r\n        });\r\n\r\n        $(document).on('submit', '#remove_payment_method', function (e) {\r\n            e.preventDefault();\r\n            return false;\r\n        });\r\n\r\n\r\n        $(document).on('click', '#initRemovePaymentMethod', function (e) {\r\n            e.preventDefault();\r\n            var modal = new Modal('Confirm Action', null);\r\n            modal.setContent('Are you sure you want to remove this payment method?');\r\n            modal.submitButton.innerText = 'Confirm';\r\n            modal.setVisible();\r\n            modal.setSubmitAction(function () {\r\n                var formData = $('#changePhone').serialize();\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: \"user/removePaymentMethod\",\r\n                    data: formData,\r\n                    dataType: \"json\",\r\n                    success: function (data) {\r\n                        if (data.error) {\r\n                            popup(data.alert);\r\n                        }\r\n                        else {\r\n                            popup(data.alert);\r\n                            this.destroy();\r\n\r\n                            //$('#account-settings-view').fadeTo(200, 0.3);\r\n                            //$(\"#account-settings-view\").load(location.href + \" #account-settings-view>*\", \"\", function () {\r\n                            //\t$(\"#account-settings-view\").fadeTo(200, 1);\r\n                            //});\r\n                        }\r\n                    }.bind(this),\r\n                    error: function (data) {\r\n                        generateError(data);\r\n                    }\r\n                });\r\n                return false;\r\n            });\r\n        });\r\n\r\n\r\n        $(document).on('submit', '#driver_settings', function (e) {\r\n            e.preventDefault();\r\n\r\n            $.post('./controllers/user.php', $('#driver_settings').serialize() + '&action=driver_settings',\r\n                function (data) {\r\n                    if (data.form_check == 'error') {\r\n                        popup(data.alert);\r\n                    }\r\n                    else {\r\n                        popup(data.alert);\r\n                        window.location.href = './account';\r\n                    }\r\n\r\n                }, 'json');\r\n\r\n            return false;\r\n        });\r\n\r\n    }\r\n\r\n});","// admin settings js\r\n\r\n$(document).ready(function() {\r\n\r\n\t$(document).on('submit', \"#update_settings\", function (e)\r\n\t{\r\n\t\t// var taking_orders_value = $('#taking_orders_select option:selected').val();\r\n\t\tform = $(this).serialize();\r\n\t\tupdate_settings(form);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t//$(document).on('change', \"#update_settings\", function (e)\r\n\t//{\r\n\t//\t// var taking_orders_value = $('#taking_orders_select option:selected').val();\r\n\t//\tform = $(this).serialize();\r\n\t//\tupdate_settings(form);\r\n\t//\treturn false;\r\n\t//});\r\n\r\n\tfunction update_settings(data) {\r\n\r\n\t\t$.ajax({\r\n\t\t\ttype: \"POST\",\r\n\t\t\turl: \"admin/updateSettings\",\r\n\t\t\tdata: data,\r\n\t\t\tdataType: \"json\",\r\n\t\t\tsuccess: function(data)\r\n\t\t\t{\r\n\t\t\t\tpopup(data.alert);\r\n\t\t\t\t$(\"#settings_section form\").fadeTo(\"fast\", 0.4, function() {\r\n\t\t\t\t\t$(\"#settings_section\").load(location.href + \" #settings_section>*\",\"\", function() {});\t\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\terror: function (data)\r\n\t\t\t{\r\n\t        \tgenerateError(data);\r\n\t      \t}\r\n\t\t});\r\n\t}\r\n});","function initAdminOrdersView() {\r\n\tsetupView();\r\n}\r\n\r\n$(document).ready(function() {\r\n\r\n\tfunction setupView() {\r\n\r\n        getOrders();\r\n\r\n        function orders_time_graph(hours) {\r\n\r\n            google.charts.load('current', {packages: ['corechart', 'bar']});\r\n            google.charts.setOnLoadCallback(drawBasic);\r\n\r\n\r\n            function drawBasic() {\r\n\r\n                var data = new google.visualization.DataTable();\r\n                data.addColumn('timeofday', 'Time of Day');\r\n                data.addColumn('number', 'Amount of Orders');\r\n\r\n                for (var key in hours) {\r\n                    var hour = hours[key].hour;\r\n                    var count = hours[key].counter;\r\n                    data.addRow([{v: [parseFloat(hour), 0, 0], f: parseFloat(hour) + ':00'}, parseFloat(count)]);\r\n                }\r\n\r\n                var options = {\r\n                    title: 'Orders Per Hour',\r\n                    hAxis: {\r\n                        title: 'Time of Day',\r\n                        format: 'h a',\r\n                        viewWindow: {\r\n                            min: [0, 30, 0],\r\n                            max: [24, 30, 0]\r\n                        }\r\n                    },\r\n                    vAxis: {\r\n                        title: 'Amount Of Orders'\r\n                    }\r\n                };\r\n\r\n                var chart = new google.visualization.ColumnChart(\r\n                    document.getElementById('chart_div'));\r\n\r\n                chart.draw(data, options);\r\n            }\r\n        }\r\n\r\n\r\n        var today = moment();\r\n\r\n        $(function () {\r\n            $(\"#start_date, #end_date\").datepicker({\r\n                dateFormat: 'MM dd yy',\r\n                maxDate: moment(today).format('MMMM DD YYYY'),\r\n                onSelect: function (date) {\r\n                    getOrders();\r\n                }\r\n            });\r\n        });\r\n\r\n        function getOrders() {\r\n            start_date = new Date($(\"#start_date\").val());\r\n            end_date = new Date($(\"#end_date\").val());\r\n\r\n            start_date = moment(start_date).subtract(1, 'days').format('YYYY-MM-DD');\r\n            end_date = moment(end_date).add(1, 'days').format('YYYY-MM-DD');\r\n\r\n            if (isNaN(Date.parse(start_date)) || isNaN(Date.parse(end_date))) {\r\n                console.log(\"changing dates\");\r\n                start_date = \"0000-00-00\";\r\n                end_date = \"9999-12-31\";\r\n            }\r\n\r\n\r\n            $('.order_row').removeClass('orders_row_selected');\r\n\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: 'admin/getOrderStats',\r\n                data: {start_date: start_date, end_date: end_date},\r\n                dataType: \"json\",\r\n                success: function (data) {\r\n                    $('#orders_view').fadeOut(200);\r\n                    $('#orders_view').empty();\r\n\r\n                    console.log(data);\r\n\r\n                    if (data.orders.length == 0) {\r\n                        popup('No results.');\r\n                    }\r\n                    else {\r\n                        var template = document.getElementById('order_row').innerHTML;\r\n\r\n                        orders_time_graph(data.order_stats.hot_hours);\r\n\r\n                        var orders = data.orders.data;\r\n\r\n                        $.each(data.orders, function (index, order) {\r\n                            transaction = Mustache.render(template, order);\r\n                            $('#orders_view').append(transaction);\r\n                        });\r\n\r\n                        $('#total_orders').text(data.order_stats.total_orders);\r\n                        $('#total_complete_orders').text(data.order_stats.total_complete_orders);\r\n                        $('#repeat_customer_count').text(data.order_stats.repeat_customer_data.count);\r\n                        $('#repeat_customer_orders').text(data.order_stats.repeat_customer_data.sum);\r\n                        $('#avg_order_time').text(data.order_stats.avg_order_time);\r\n\r\n                        $('#orders_view').fadeIn(200);\r\n                    }\r\n\r\n                },\r\n                error: function (data) {\r\n                    generateError(data);\r\n                }\r\n            });\r\n            return false;\r\n\r\n        }\r\n\r\n\r\n        $(document).on('click', '#reset_orders', function () {\r\n            $(\"#start_date\").val('');\r\n            $(\"#end_date\").val('');\r\n            getOrders();\r\n        });\r\n\r\n\r\n        $(document).on('click', '.order-log-row', function () {\r\n            if (!$(this).children('.order-info-bottom').is(':visible')) {\r\n                $(this).addClass('selected');\r\n                $(this).children('.order-info-bottom').stop(true, true).slideDown(200);\r\n            }\r\n            else {\r\n                $(this).removeClass('selected');\r\n                $(this).children('.order-info-bottom').stop(true, true).slideUp(200);\r\n            }\r\n        });\r\n\r\n        $(document).on('submit', '#admin-create-order', function (e) {\r\n            e.preventDefault();\r\n            console.log(e); // just testing git push\r\n\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: 'admin/createTestOrder',\r\n                dataType: \"json\",\r\n                success: function (data) {\r\n                    if (data.error != true) {\r\n                        popup('Test order created.');\r\n                    }\r\n                },\r\n                error: function (data) {\r\n                    generateError(data);\r\n                }\r\n            });\r\n            return false;\r\n        });\r\n\r\n    }\r\n\r\n});","function initTransactionsView() {\r\n\tgetTransactions();\r\n}\r\n\r\n$(document).ready(function() {\r\n\r\n\tvar today = moment();\r\n\r\n\t$(function() {\r\n\t\t$(\"#start_date, #end_date\").datepicker({\r\n\t\t\tdateFormat: 'MM dd yy',\r\n\t\t\tmaxDate: moment(today).format('MMMM DD YYYY'),\r\n\t\t\tonSelect: function(date) {\r\n     \t\t\tgetTransactions();\r\n     \t\t}\r\n\t\t});\r\n\t});\r\n\r\n\tfunction getTransactions()\r\n\t{\r\n\t\tstart_date = new Date($(\"#start_date\").val());\r\n\t\tend_date = new Date($(\"#end_date\").val());\r\n\r\n\t\tstart_date = moment(start_date).subtract(1, 'days').format('YYYY-MM-DD');\r\n\t\tend_date = moment(end_date).add(1, 'days').format('YYYY-MM-DD');\r\n\r\n\t\tif (isNaN(Date.parse(start_date)) || isNaN(Date.parse(end_date))) {\r\n\t\t\tstart_date = \"0000-00-00\";\r\n\t\t\tend_date = \"9999-12-31\";\r\n\t\t}\r\n\r\n\t\t$('.trans_row').removeClass('trans_row_selected');\r\n\r\n\t\t$.ajax({\r\n\t\t\ttype: \"POST\",\r\n\t\t\turl: './admin/getTransactionStats',\r\n\t\t\tdata: {start_date: start_date, end_date: end_date},\r\n\t\t\tdataType: \"json\",\r\n\t\t\tsuccess: function(data)\r\n\t\t\t{\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\t$('#transactions_view').fadeOut(200).empty();\r\n\r\n\t\t\t\tif (data.trans == null || data.trans.length == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tpopup('No results.');\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar template = document.getElementById('transaction_row').innerHTML;\r\n\r\n\t\t\t\t\t$.each(data.trans, function(index, trans)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (index <= 100) {\r\n\t\t\t\t\t\t\ttransaction = Mustache.render(template, trans);\r\n\t\t\t\t\t\t\t$('#transactions_view').append(transaction);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tvar trans_stats = data.trans_stats;\r\n\r\n\t\t\t\t\t$('#rev_amount').text('$' + trans_stats.revenue);\r\n\t\t\t\t\t$('#profit_amount').text('$' + trans_stats.profit);\r\n\t\t\t\t\t$('#firstdash_count').text(trans_stats.promo_count);\r\n\t\t\t\t\t$('#dashcash_count').text(trans_stats.dashcash_count);\r\n\t\t\t\t\t$('#order_count').text(trans_stats.order_count);\r\n\t\t\t\t\t$('#repeat_customer_orders').text(trans_stats.repeat_customer_orders);\r\n\t\t\t\t\t$('#avg_order_cost').text('$' + trans_stats.avg_order_cost);\r\n\t\t\t\t\t$('#avg_profit').text('$' + trans_stats.avg_order_profit);\r\n\r\n\t\t\t\t\t$('#transactions_view').fadeIn(200);\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\terror: function (data)\r\n\t\t\t{\r\n\t\t\t\tgenerateError(data);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n\r\n\t$(document).on('click', '#reset_transactions', function() \r\n\t{\r\n\t\t$(\"#transactions_wrapper\").load(location.href + \" #transactions_wrapper>*\",\"\");\r\n\t\t$('#trans_stats').load(location.href + \" #trans_stats>*\",\"\");\r\n\t});\r\n\r\n\r\n\t$(document).on('click', '.trans_row', function() \r\n\t{\r\n\t\tif (!$(this).children('.trans_info').is(':visible'))\r\n\t\t{\r\n\t\t\t$(this).addClass('trans_row_selected no_border');\r\n\t\t\t$(this).children('.trans_info').stop(true, true).slideDown(200);\r\n\t\t}\r\n\t\telse \r\n\t\t{\r\n\t\t\t$(this).removeClass('trans_row_selected no_border');\r\n\t\t\t$(this).children('.trans_info').stop(true, true).slideUp(200);\r\n\t\t}\r\n\t});\r\n\r\n});"]}